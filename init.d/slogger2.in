#!@SBINDIR@/openrc-run
# Copyright (c) 2015 Will Miles <wmiles@sgl.com>
# Released under the 2-clause BSD license.

command=/bin/slogger2
command_args=$slogger2_args
name="slogger2"
description="QNX driver system logger, mark 2"


depend()
{
    keyword -stop
}    

start()
{
    # Don't start the program if it's already running; just take it over
    if [ ! -w /dev/slog2 ] ; then        
        ebegin "Starting $name"
        $command $command_args
        eend
    else
        einfo "Skipping $name: started by initrd"
    fi
}

stop()
{
    # Explicitly do not check for argument match
    ebegin "Stopping $name"
    start-stop-daemon -K -n slogger2
    eend
}
